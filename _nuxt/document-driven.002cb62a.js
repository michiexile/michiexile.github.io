import P from"./DocumentDrivenEmpty.c949155c.js";import L from"./ContentRenderer.8b9a225e.js";import g from"./DocumentDrivenNotFound.ad83a362.js";import{u as x,f as m,i as C,P as R,g as k,h as b,j as B,r as S,l as f,k as T,m as j,n as l,T as N,q as u,s as A,v as w,S as D,x as E,L as $,y as q,o as d,c as H,b as y,w as _,z as v}from"./entry.3f05618b.js";import{u as O}from"./content.4157e220.js";import{u as z}from"./head.5ffee01b.js";import"./ContentRendererMarkdown.vue.1785f462.js";import"./preview.84829fe3.js";import"./vue.f36acd1f.5d6d598c.js";const F=m({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(o,n){const e=await f[o.name]().then(t=>t.default||t);return()=>l(e,o.layoutProps,n.slots)}}),I=m({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null}},setup(o,n){const e=x(),t=C(R),a=t===k()?b():t,s=B(()=>u(o.name)??a.meta.layout??"default"),r=S();n.expose({layoutRef:r});const c=e.deferHydration();return()=>{const p=s.value&&s.value in f,i=a.meta.layoutTransition??T;return j(N,p&&i,{default:()=>l(D,{suspensible:!0,onResolve:()=>{w(c)}},{default:()=>l(M,{layoutProps:A(n.attrs,{ref:r}),key:s.value||void 0,name:s.value,shouldProvide:!o.name,hasTransition:!!i},n.slots)})}).default()}}}),M=m({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(o,n){const e=o.name;return o.shouldProvide&&E($,{isCurrent:t=>e===(t.meta.layout??"default")}),()=>{var t,a;return!e||typeof e=="string"&&!(e in f)?(a=(t=n.slots).default)==null?void 0:a.call(t):l(F,{key:e,layoutProps:o.layoutProps,name:e},n.slots)}}}),V={class:"document-driven-page"},ee=m({__name:"document-driven",setup(o){const{contentHead:n}=q().public.content,{page:e,layout:t}=O();return e.value,n&&z(e),(a,s)=>{const r=P,c=L,p=g,i=I;return d(),H("div",V,[y(i,{name:u(t)||"default"},{default:_(()=>[u(e)?(d(),v(c,{key:u(e)._id,value:u(e)},{empty:_(({value:h})=>[y(r,{value:h},null,8,["value"])]),_:1},8,["value"])):(d(),v(p,{key:1}))]),_:1},8,["name"])])}}});export{ee as default};
